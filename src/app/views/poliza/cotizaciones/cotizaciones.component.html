<div class="card container-fluid">
    <h2 style="text-align: center; font-size: 1.2rem;"><strong>CONSULTA DE
            COTIZACIONES</strong></h2>
    <mat-stepper [linear]="isLinear" #stepper>
        <mat-step [stepControl]="cotizacionGroup">
            <form [formGroup]="cotizacionGroup">
                <ng-template matStepLabel>Selección de Cotización</ng-template>
                <!-- DATOS DE LA COTIZACIÓN mat-elevation-z2-->

                
                    <div class="card-header" style="text-align: center; background-color: white;">
                        <h2 style="margin-bottom: 0.1px; font-size: 1rem;">BUSQUE SU COTIZACIÓN </h2>
                    </div>

                    <mat-form-field class="mediumwidth">
                        <mat-label>Buscar</mat-label>
                        <input matInput (keyup)="applyFilter($event)" #input>
                    </mat-form-field>

                    <mat-form-field class="mediumwidth2">
                        <mat-label>Filtre por Fecha</mat-label>
                        <mat-date-range-input [rangePicker]="picker">
                            <input matStartDate formControlName="start">
                            <input matEndDate formControlName="end"
                                (dateChange)="dateFilter($event)">
                        </mat-date-range-input>
                        <mat-datepicker-toggle matIconSuffix
                            [for]="picker"></mat-datepicker-toggle>
                        <mat-date-range-picker #picker></mat-date-range-picker>
                    </mat-form-field>

                    <div class="table-responsive">
                    <table mat-table [dataSource]="dataSource">
                        <ng-container matColumnDef="select">
                            <th mat-header-cell *matHeaderCellDef>
                                <mat-checkbox
                                    (change)="$event ? masterToggle(null) : null"
                                    [checked]="selection.hasValue() && isAllSelected()"
                                    [indeterminate]="selection.hasValue() && !isAllSelected()">
                                </mat-checkbox>
                            </th>

                            <td mat-cell *matCellDef="let row">
                                <mat-checkbox (click)="$event.stopPropagation()"
                                    (change)="$event ? masterToggle(row) : null"
                                    [checked]="selection.isSelected(row)">
                                </mat-checkbox>
                            </td>
                        </ng-container>

                        <!-- Position Column -->
                        <ng-container matColumnDef="cproces">
                            <th mat-header-cell *matHeaderCellDef> Cotización
                            </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.cproces}}
                            </td>
                        </ng-container>
                        <!-- Name Column -->
                        <ng-container matColumnDef="ccorredor">
                            <th mat-header-cell *matHeaderCellDef> Corredor
                            </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.ccorredor}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="xintermediario">
                            <th mat-header-cell *matHeaderCellDef> Intermediario
                            </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.xintermediario}}
                            </td>
                        </ng-container>
                        
                        <ng-container matColumnDef="xramo">
                            <th mat-header-cell *matHeaderCellDef> Ramo </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.xramo}}
                            </td>
                        </ng-container>
                        <!-- Name Column -->
                        <ng-container matColumnDef="xcedula_asegurado">
                            <th mat-header-cell *matHeaderCellDef> Cédula
                                Asegurado </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.xcedula_asegurado}}
                            </td>
                        </ng-container>
                        <!-- Name Column -->
                        <ng-container matColumnDef="xasegurado">
                            <th mat-header-cell *matHeaderCellDef> Asegurado
                            </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.xasegurado}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="fdesde_pol">
                            <th mat-header-cell *matHeaderCellDef> Fecha Desde
                            </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.fdesde_pol}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="fhasta_pol">
                            <th mat-header-cell *matHeaderCellDef> Fecha Hasta
                            </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.fhasta_pol}}
                            </td>
                        </ng-container>
                        <!-- Name Column -->

                        <ng-container matColumnDef="Estatus_Cotizacion">
                            <th mat-header-cell *matHeaderCellDef> Estado </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.Estatus_Cotizacion}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="xsucursal">
                            <th mat-header-cell *matHeaderCellDef> Sucursal
                            </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.xsucursal}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="xcanal_venta">
                            <th mat-header-cell *matHeaderCellDef> Canal de
                                Venta </th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.xcanal_venta}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="xmoneda">
                            <th mat-header-cell *matHeaderCellDef> Moneda</th>
                            <td mat-cell *matCellDef="let element"
                                style="font-size: 14px;">
                                {{element.xmoneda}}
                            </td>
                        </ng-container>

                        <tr mat-header-row
                            *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row
                            *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>
                </div>
                <div class="text-center mt-4 card-header" style="display: flex; justify-content: space-between;">
                <button class="align-left-button" style="color: white; background-color: #447bd7;" mat-raised-button color="secondary" (click)="exportExcel()">Exportar Excel</button>
                <mat-paginator [pageSizeOptions]="[5, 10, 25, 50, 100]"
                    showFirstLastButtons
                    aria-label="Seleccione página">
                </mat-paginator>
            </div>
            </form>
        </mat-step>

        <!-- .product+button#button
        .product$*4
        h${title $}*3
        nav>ul>li*3>a{Link $}
        header>nav>ul>li*5
        section.product-list>div.product-card>img+h3+p -->